<html>
 <head> 
  <meta http-equiv="content-type" content="text/html; charset=utf-8" /> 
  <link href="main.css" rel="stylesheet" type="text/css" /> 
  <title>你好，请你花一点时间看完</title> 
 </head> 
 <body> 
  <div style="margin: 2% 5% 2% 5%"> 
   <table style="width:100%;"> 
    <tbody>
     <tr> 
      <td> 
       <div style="padding: 2% 8% 5% 8%;"> 
        <div class="autotype" id="autotype"> 
         <h2>你好，请你花一点时间看完</h2> 
         <p>这是Raxz的一个测试主页，也算是一个小的个人网站，会不定期更新里面的内容。不过最近一次更新也是好多年前了，抱歉。</p>
         <p>这个页面测试的内容很简单，就是简单的打字效果，在这里，你会看到一个页面打字打出来，效果蛮一般的。请原谅哈。</p>
         <p>以后的日子，这里可能会发生比较多的变化，但是有些言论和观点应该只会发布在这里。</p>
         <p>没有更新的这几年发生了好多事情，不开心的事情比较多，不过还好，都过去了。</p>
         <p>下次更新不知道什么时候，不过应该会多起来。希望能坚持码字，改变一下生活习惯。谢谢你看完这篇没有意义的文字！</p> 
         <p>以上</p> 
        </div> 
       </div> </td> 
     </tr> 
    </tbody>
   </table> 
  </div> 
  <script src="jquery-3.2.1.min.js"></script> 
  <script>
 $.fn.autotype = function(){
  var $text = $(this);
  console.log('this',this);
  var str = $text.html();//返回被选 元素的内容
  var index = 0;
  var x = $text.html('');
  //$text.html()和$(this).html('')有区别
  var timer = setInterval(function(){
   //substr(index, 1) 方法在字符串中抽取从index下标开始的一个的字符
   var current = str.substr(index, 1);
   if(current == '<'){
   //indexOf() 方法返回">"在字符串中首次出现的位置。
    index = str.indexOf('>', index) + 1;
   }else{
    index ++ ;
   }
   //console.log(["0到index下标下的字符",str.substring(0, index)],["符号",index & 1 ? '_': '']);
   //substring() 方法用于提取字符串中介于两个指定下标之间的字符
   $text.html(str.substring(0, index) + (index & 1 ? '_': ''));
   if(index >= str.length){
    clearInterval(timer);
   }
  },150);
 };
 $("#autotype").autotype();
</script>   
 </body>
</html>